var elements={container:document.querySelector(".js-movie-list"),loadBtn:document.querySelector(".js-load-more")},defaults={poster:"https://eticketsolutions.com/demo/themes/e-ticket/img/movie.jpg",date:"XXXX-XX-XX",title:"Title not found",vote:"XX.XX"},page=1;function handlerLoadMore(){serviceFilms(page+=1).then((function(e){elements.container.insertAdjacentHTML("beforeend",createMarkup(e.results)),e.page>=e.total_pages&&elements.loadBtn.classList.replace("load-more","load-more-hidden")})).catch((function(e){elements.container.insertAdjacentHTML("beforeend",createMarkup(data.results))}))}function createMarkup(e){return e.map((function(e){var t=e.poster_path,n=e.original_title,a=e.release_date,o=e.vote_average;return'<li class="movie-card">\n        <img src="'.concat(t?"https://image.tmdb.org/t/p/w300"+t:defaults.poster,'" alt="').concat(n||defaults.title,'">\n        <div class="movie-info">\n          <h2 class="movie-title">').concat(n||defaults.title,"</h2>\n          <p>").concat(a||defaults.date,"Release Date:</p>\n          <p>").concat(o||defaults.vote,"Vote Average:</p>\n        </div>\n      </li>")})).join("")}function serviceFilms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",t=new URLSearchParams({page:e,api_key:"54c7b027f5cdebd977d4a2cb3ecddc3d"});return fetch("https://api.themoviedb.org/3/trending/movie/week?".concat(t)).then((function(e){if(!e.ok)throw new Error("Error");return e.json()}))}elements.loadBtn.addEventListener("click",handlerLoadMore),serviceFilms().then((function(e){console.log(e),elements.container.insertAdjacentHTML("beforeend",createMarkup(e.results)),e.page<e.total_pages&&elements.loadBtn.classList.replace("load-more-hidden","load-more")})).catch((function(e){elements.container.insertAdjacentHTML("beforeend",createMarkup(data.results))}));
//# sourceMappingURL=index.748521bd.js.map
